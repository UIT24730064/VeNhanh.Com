{% extends "base.html" %}
{% block title %}Trang ch·ªß - V√© Nhanh{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="fw-bold text-uppercase border-start border-danger border-4 ps-3">
            Phim ƒëang chi·∫øu
        </h3> </div>

    <div class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-4 mb-5">
        {% for movie in showing_movies %}
        <div class="col">
            <div class="card h-100 shadow-sm border-0 movie-card">
                <a href="{{ url_for('show_showtimes', movie_id=movie.id) }}" class="poster-box position-relative text-decoration-none">
                    <img src="{{ url_for('static', filename='images/' + movie.image) }}"
                         class="card-img-top" alt="{{ movie.title }}" loading="lazy">
                    <div class="overlay d-flex align-items-center justify-content-center">
                        <span class="btn btn-danger fw-bold rounded-pill px-4">üéü Mua v√©</span>
                    </div>
                </a>
                <div class="card-body text-center">
                    <h5 class="fw-bold mb-1">{{ movie.title }}</h5>
                    <span class="badge bg-success small">ƒêang chi·∫øu</span>
                </div>
            </div>
        </div>
        {% else %}
        <div class="col-12 text-center text-muted">Hi·ªán ch∆∞a c√≥ phim ƒëang chi·∫øu.</div>
        {% endfor %}
    </div>

    <h3 class="fw-bold text-uppercase border-start border-warning border-4 ps-3 mb-4">
        Phim s·∫Øp chi·∫øu
    </h3> <div class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-4">
        {% for movie in upcoming_movies %}
        <div class="col">
            <div class="card h-100 shadow-sm border-0 movie-card opacity-90">
                <div class="poster-box position-relative">
                    <img src="{{ url_for('static', filename='images/' + movie.image) }}"
                         class="card-img-top filter-grayscale" alt="{{ movie.title }}" loading="lazy">
                    <div class="overlay d-flex align-items-center justify-content-center">
                        <span class="btn btn-light fw-bold rounded-pill px-4">üîç S·∫Øp chi·∫øu</span>
                    </div>
                </div>
                <div class="card-body text-center">
                    <h5 class="fw-bold mb-1">{{ movie.title }}</h5>
                    <span class="badge bg-warning text-dark small">S·∫Øp chi·∫øu</span>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<style>
.movie-card {

    border-radius: 15px;

    overflow: hidden;

    transition: all 0.3s ease;

}



.movie-card:hover {

    transform: translateY(-8px);

    box-shadow: 0 12px 25px rgba(0,0,0,0.18) !important;

}



/* Poster */

.poster-box img {

    height: 360px;

    object-fit: cover;

    transition: transform 0.4s ease;

}



.movie-card:hover .poster-box img {

    transform: scale(1.06);

}



/* Overlay */

.poster-box {

    display: block;

    position: relative;

}



.poster-box .overlay {

    position: absolute;

    inset: 0;

    background: rgba(0,0,0,0.65);

    opacity: 0;

    transition: opacity 0.3s ease;

}



.poster-box:hover .overlay {

    opacity: 1;

}



/* Upcoming */

.filter-grayscale {

    filter: grayscale(35%);

}



.movie-card:hover .filter-grayscale {

    filter: grayscale(0%);

}



/* Mobile t·ªëi ∆∞u */

@media (max-width: 576px) {

    .poster-box img {

        height: 300px;

    }

}
</style>
{% endblock %}