{% extends "base.html" %}

{% block title %}Trang ch·ªß - V√© Nhanh{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="fw-bold text-uppercase border-start border-primary border-4 ps-3">Phim ƒëang chi·∫øu</h3>
        <div class="auth-buttons">
            
        </div>
    </div>

    <div class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-4 mb-5">
        {% for movie in showing_movies %}
        <div class="col">
            <div class="card h-100 shadow-sm border-0 movie-card">
                <div class="poster-box position-relative">
                    <img src="{{ url_for('static', filename='images/' + movie.image) }}" 
                         class="card-img-top" alt="{{ movie.title }}">
                    
                    <div class="overlay d-flex align-items-center justify-content-center">
                        <a href="{{ url_for('show_showtimes', movie_id=movie.id) }}" class="btn btn-warning fw-bold rounded-pill">
                            üéü Mua v√©
                        </a>
                    </div>
                </div>
                <div class="card-body text-center">
                    <h5 class="fw-bold mb-1">{{ movie.title }}</h5>
                    <span class="badge bg-success small">ƒêang chi·∫øu</span>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <h3 class="fw-bold text-uppercase border-start border-warning border-4 ps-3 mb-4">Phim s·∫Øp chi·∫øu</h3>
    <div class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-4">
        {% for movie in upcoming_movies %}
        <div class="col">
            <div class="card h-100 shadow-sm border-0 movie-card opacity-90">
                <div class="poster-box position-relative">
                    <img src="{{ url_for('static', filename='images/' + movie.image) }}" 
                         class="card-img-top filter-grayscale" alt="{{ movie.title }}">
                    
                    <div class="overlay d-flex align-items-center justify-content-center">
                        <a href="#" class="btn btn-light fw-bold rounded-pill">
                            üîç Chi ti·∫øt
                        </a>
                    </div>
                </div>
                <div class="card-body text-center">
                    <h5 class="fw-bold mb-1">{{ movie.title }}</h5>
                    <span class="badge bg-warning text-dark small">S·∫Øp chi·∫øu</span>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<style>
    /* Bo g√≥c v√† hi·ªáu ·ª©ng m∆∞·ª£t m√† cho Card */
    .movie-card { 
        border-radius: 15px; 
        overflow: hidden; 
        transition: all 0.3s ease; 
    }
    
    .movie-card:hover { 
        transform: translateY(-8px); 
        box-shadow: 0 10px 20px rgba(0,0,0,0.15) !important; 
    }

    /* ƒê·ªãnh d·∫°ng ·∫£nh Poster */
    .poster-box img {
        height: 380px;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    .movie-card:hover .poster-box img {
        transform: scale(1.05);
    }

    /* Hi·ªáu ·ª©ng l·ªõp ph·ªß (Overlay) */
    .poster-box .overlay {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.6);
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    
    .poster-box:hover .overlay {
        opacity: 1;
    }

    /* Phim s·∫Øp chi·∫øu - l√†m x√°m ·∫£nh m·ªôt ch√∫t */
    .filter-grayscale {
        filter: grayscale(30%);
    }
    .movie-card:hover .filter-grayscale {
        filter: grayscale(0%);
    }
</style>
{% endblock %}