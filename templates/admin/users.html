{% extends "admin/admin_base.html" %}
{% block title %}Qu·∫£n l√Ω ng∆∞·ªùi d√πng{% endblock %}

{% block content %}

<div class="page-header">
    <h1 class="page-title">üë• Qu·∫£n l√Ω ng∆∞·ªùi d√πng</h1>
</div>

<div class="card-admin">
    <table class="table table-hover align-middle admin-table">
        <thead>
            <tr>
                <th>#</th>
                <th>Avatar</th>
                <th>T√™n ng∆∞·ªùi d√πng</th>
                <th>Email</th>
                <th>Quy·ªÅn</th>
                <th>Tr·∫°ng th√°i</th>
                <th class="text-center">H√†nh ƒë·ªông</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ loop.index }}</td>

                <td>
                    <div class="user-avatar">
                        {{ user.username[0]|upper }}
                    </div>
                </td>

                <td>
                    <strong>{{ user.username }}</strong>
                </td>

                <td>{{ user.email }}</td>

                <td>
                    {% if user.role == 'admin' %}
                        <span class="badge bg-danger">Admin</span>
                    {% else %}
                        <span class="badge bg-primary">User</span>
                    {% endif %}
                </td>

                <td>
                    {% if user.is_active %}
                        <span class="badge bg-success">Ho·∫°t ƒë·ªông</span>
                    {% else %}
                        <span class="badge bg-secondary">B·ªã kh√≥a</span>
                    {% endif %}
                </td>

                <td class="text-center">
                    <a href="{{ url_for('edit_user', user_id=user.id) }}"
                       class="btn btn-sm btn-warning">
                        ‚úèÔ∏è
                    </a>

                    {% if user.is_active %}
                    <a href="{{ url_for('block_user', user_id=user.id) }}"
                       class="btn btn-sm btn-danger"
                       onclick="return confirm('Kh√≥a ng∆∞·ªùi d√πng n√†y?')">
                        üîí
                    </a>
                    {% else %}
                    <a href="{{ url_for('unblock_user', user_id=user.id) }}"
                       class="btn btn-sm btn-success"
                       onclick="return confirm('M·ªü kh√≥a ng∆∞·ªùi d√πng n√†y?')">
                        üîì
                    </a>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
